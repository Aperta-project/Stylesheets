<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><!--THIS FILE IS GENERATED FROM AN XML MASTER. DO NOT EDIT (5)--><title>Tree test</title><meta name="author" content="Giles Bergel" /><meta name="generator" content="Text Encoding Initiative Consortium XSLT stylesheets" /><meta name="DC.Title" content="Tree test" /><meta name="DC.Type" content="Text" /><meta name="DC.Format" content="text/html" /><script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script><script type="text/javascript">
	    var downoffset= 40;
	    var down2offset=5;
	    var diagonal = d3.svg.diagonal()
	    .projection(function(d) { return [d.x, d.y]; });
	    function elbow(d, i) {
	      return "M" + d.target.x + "," + (d.target.y - downoffset)
	           + "V" + (d.source.y +  down2offset )
		   + "H" + d.source.x;
	      }
	  </script><style>	    
	    .nodetext {
	        text-align: center;
	    }
	    .linkinvisible {
	         visibility: hidden;
	    }
	    .link {
	    fill: none;
	    stroke: black;
	    stroke-width: 1px;
	    }
	    .node { 
	    font-weight: normal;
	    font-size: 7pt;
	    }
	    .treediagram {	        
	    }
	    .svgtree {
              padding-bottom: 6pt;
            }
	  </style><link href="http://www.tei-c.org/release/xml/tei/stylesheet/tei.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" media="print" type="text/css" href="http://www.tei-c.org/release/xml/tei/stylesheet/tei-print.css" /></head><body class="simple" id="TOP"><div class="stdheader"><h2 class="institution">(unknown project)</h2><h1 class="maintitle">Tree test</h1></div><h2>Table of contents</h2><ul class="toc toc_body"><li class="toc"><span class="headingNumber">1. </span><a class="toc toc_0" href="#index.xml-body.1_div.1">Examples from TEI guidelines</a></li></ul><p>Oh! But he was a tight-fisted hand at the grindstone, Scrooge! a squeezing, wrenching, grasping, scraping, clutching, covetous old sinner! Hard and sharp as flint, from which no steel had ever struck out generous fire; secret, and self-contained, and solitary as an oyster. The cold within him froze his old features, nipped his pointed nose, shrivelled his cheek, stiffened his gait; made his eyes red, his </p><div class="treediagram" style="width:875 " id="vizd28e21"></div><p><script type="text/javascript">
	      downoffset= 10;
	      down2offset=5;
	      yoffset = -10;
	      treewidth = 875;
	      treedepth = 160;
		
      var treeData = {"name":'', "showlink":'invisible', "type":'', "children":[{"name":'<span class="label">Lionel</span>', "showlink":'', "type":'', "children":[{"name":'<span class="label">Wendy</span>', "synch":"#philip", "showlink":'', "type":'', }, 
	    ]}, 
	    {"name":'<span class="label">Frederick</span>', "showlink":'', "type":'', "children":[{"name":'<span class="label">Philip</span>', "id":"philip", "showlink":'', "type":'', "children":[{"name":'<span class="label">Sebastian</span>', "showlink":'', "type":'', "children":[{"name":'<span class="label">Matilde</span>', "showlink":'', "type":' leaf', }, 
	    {"name":'<span class="label">InÃªs</span>', "showlink":'', "type":' leaf', }, 
	    ]}, 
	    {"name":'<span class="label">David</span>', "synch":"#diana","showlink":'', "type":' leaf', }, 
	    {"name":'<span class="label">Diana</span>', "showlink":'', "id":"diana","type":' leaf', }, 
	    {"name":'<span class="label">Nicholas</span>', "showlink":'', "type":' leaf', }, 
	    {"name":'<span class="label">Gentian</span>', "showlink":'', "type":' leaf', }, 
	    ]}, 
	    ]}, 
	    ]};
      var vis = d3.select("#vizd28e21").append("svg:svg")
      .attr("class", "svgtree")
      .attr("width", treewidth + 50)
      .attr("height", treedepth + 25)
      .append("svg:g")
      .attr("transform", "translate(0, 25)"); 
      var tree = d3.layout.tree().size([treewidth,treedepth]);
      var nodes = tree.nodes(treeData);
      //console.log(nodes);
      var links = tree.links(nodes);
      var link = vis.selectAll("pathlink")
      .data(links)
      .enter().append("svg:path")
      .attr("class", function (d) { return "link" + d.source.showlink; })
      .attr("d", elbow)    ;
      var node = vis.selectAll("g.node")
      .data(nodes)
      .enter().append("svg:g")
      .attr("class","node")
      .attr("id", function (d) { return d.id;})
      node.append("svg:foreignObject")
      .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; })
      .attr("x", -40)
      .attr("y", yoffset)
      .attr("width", 80)
      .attr("height", 80)
      .attr("style", "fill-opacity:1.0")
      .append("xhtml:div")
      .attr("class",  function(d) { return "nodetext " + d.type; })
      .html(function(d) { return d.name; });
      var node2 = vis.selectAll("g.node")
       .data(nodes)
       .filter(function(d) { return d.synch });
      node2.append("svg:line")
      .attr("x1",function(d) { return d.x + 10;})
      .attr("y1",function(d) { return d.y - 5;})
      .attr("x2",function(d) { other=vis.select(d.synch);
	    console.log("SEE " + other.datum().x); return other.datum().x;})
      .attr("y2",function(d) { other=vis.select(d.synch);
	    console.log("SEE " + other.datum().y); return other.datum().y;})
      .attr("style", "stroke-width: 2px;stroke:green; fill:solid;");
    </script> thin lips blue; and spoke out shrewdly in his grating voice. A frosty rime was on his head, and on his eyebrows, and his wiry chin</div></body></html>